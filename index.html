<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventar Dienstwagen</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #333;
    }
    table {
      width: 100%;
      max-width: 600px;
      border-collapse: collapse;
      margin: 20px 0;
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
    }
    th {
      background-color: #0078D7;
      color: white;
      font-weight: bold;
    }
    td {
      border-bottom: 1px solid #f0f0f0;
    }
    input[type="number"] {
      width: 60px;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      padding: 5px 10px;
      margin: 0 5px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      color: white;
      background-color: #0078D7;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #005bb5;
    }
    button.add-item {
      margin-top: 10px;
      background-color: #28a745;
    }
    button.add-item:hover {
      background-color: #218838;
    }
    .no-items {
      text-align: center;
      color: #888;
      font-style: italic;
    }
  </style>
</head>
<body>
  <h1>Inventar im Dienstwagen</h1>
  <table id="inventoryTable">
    <thead>
      <tr>
        <th>Artikel</th>
        <th>Stückzahl</th>
        <th>Ändern</th>
      </tr>
    </thead>
    <tbody>
      <!-- Hier wird dynamisch der Inhalt hinzugefügt -->
    </tbody>
  </table>
  <button class="add-item" onclick="addItem()">Artikel hinzufügen</button>

  <script>
    const inventory = JSON.parse(localStorage.getItem("inventory")) || [
      { name: "Hammer", quantity: 10 },
      { name: "Schrauben", quantity: 50 },
    ];

    function updateTable() {
      // Sortiere Artikel alphabetisch
      inventory.sort((a, b) => a.name.localeCompare(b.name));

      const tableBody = document.querySelector("#inventoryTable tbody");
      tableBody.innerHTML = ""; // Tabelle zurücksetzen

      if (inventory.length === 0) {
        tableBody.innerHTML = '<tr><td colspan="3" class="no-items">Keine Artikel vorhanden</td></tr>';
        return;
      }

      inventory.forEach((item, index) => {
        const row = document.createElement("tr");

        // Artikelname
        const nameCell = document.createElement("td");
        nameCell.textContent = item.name;
        row.appendChild(nameCell);

        // Stückzahl
        const quantityCell = document.createElement("td");
        quantityCell.textContent = item.quantity;
        row.appendChild(quantityCell);

        // Ändern
        const actionCell = document.createElement("td");
        const input = document.createElement("input");
        input.type = "number";
        input.value = 1;

        const addButton = document.createElement("button");
        addButton.textContent = "+";
        addButton.onclick = () => changeQuantity(index, parseInt(input.value));

        const subtractButton = document.createElement("button");
        subtractButton.textContent = "–";
        subtractButton.onclick = () => changeQuantity(index, -parseInt(input.value));

        actionCell.appendChild(input);
        actionCell.appendChild(addButton);
        actionCell.appendChild(subtractButton);
        row.appendChild(actionCell);

        tableBody.appendChild(row);
      });

      localStorage.setItem("inventory", JSON.stringify(inventory)); // Speichern
    }

    function changeQuantity(index, amount) {
      inventory[index].quantity = Math.max(0, inventory[index].quantity + amount);
      updateTable();
    }

    function addItem() {
      const name = prompt("Name des neuen Artikels:");
      if (name) {
        inventory.push({ name, quantity: 0 });
        updateTable();
      }
    }

    updateTable();
  </script>
</body>
</html>
